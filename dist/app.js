import setMusicState from"./autoplay.js";document.addEventListener("DOMContentLoaded",()=>{let t=!1,n=!0,o="",i="",a="inactive";var e=document.getElementById("music-button");const r=document.getElementById("music");var s=document.getElementById("info-button"),l=document.querySelector(".enter-button"),d=document.querySelectorAll(".location");const c=document.getElementById("panel"),u=document.querySelector(".layout"),m=document.getElementById("instruction-text"),g=new Audio("assets/home/bgm-side.wav"),h=new Audio("assets/home/bgm.mp3"),y="assets/audio_on.png",b="assets/audio_off.png";g.volume=.4,h.loop=!0,h.play().then(()=>{}).catch(()=>{n=!1,setMusicState(h,r,n,y,b)}),d.forEach(e=>{e.addEventListener("click",()=>{g.play(),o=e.getAttribute("data-location"),"inactive"===a?(a="active",i=o,e.setAttribute("toggle-by","true"),document.querySelector(".main").classList.toggle("side-panel-open"),"Molybdomancy"===o?(m.innerHTML="Molybdomancy is a traditional divination practice that involves the interpretation of shapes and symbols formed by molten metal, usually lead or tin, when poured into cold water. </br></br> In this method of fortune-telling, you will click to melt the solid tin and observe the transformed shape.",c.style.backgroundImage="url(assets/home/side-moly.png)",u.style.marginTop="40%"):"Fortune-Stick"===o?(m.innerHTML="Fortune sticks, also known as Chinese fortune sticks or divination sticks, are a traditional method of seeking guidance and insight from Chinese culture. </br></br> In this method of fortune-telling, you will click to shake the container and retrieve a single fortune stick. </br></br> An intepretation would be received at the end of each round.",c.style.backgroundImage="url(assets/home/side-stick.png)",u.style.marginTop="60%"):("Cartomancy"===o?(m.innerHTML="Cartomancy is a divination practice that uses a deck of playing cards to gain insights into the past, present, and future. </br></br> In this method of fortune-telling, you will randomly draw 3 cards, 1 from each deck, drag-and-drop them into card holder, then proceed to reveal the forune.",c.style.backgroundImage="url(assets/home/side-cart.png)"):(m.innerHTML="The Yin Yang Coin is a traditional tool used for divination and decision-making. </br></br> In this method of fortune-telling, you will toss 3 coins 6 times to generate your Hexagram. </br> </br> Every toss will result in either a broken or a solid line, indicating Yin or Yang. </br> </br> There are 64 hexagrams in total, each corresponds to a specific fortune.",c.style.backgroundImage="url(assets/home/side-coin.png)"),u.style.marginTop="40%")):o===i?(a="inactive",e.setAttribute("toggle-by","false"),c.style.backgroundImage="none",document.querySelector(".main").classList.toggle("side-panel-open")):(document.querySelector(`[data-location=${i}]`).setAttribute("toggle-by","false"),e.setAttribute("toggle-by","true"),"Molybdomancy"===(i=o)?(m.innerHTML="Molybdomancy is a traditional divination practice that involves the interpretation of shapes and symbols formed by molten metal, usually lead or tin, when poured into cold water. </br></br> In this method of fortune-telling, you will click to melt the solid tin and observe the transformed shape.",c.style.backgroundImage="url(assets/home/side-moly.png)",u.style.marginTop="40%"):"Fortune-Stick"===o?(m.innerHTML="Fortune sticks, also known as Chinese fortune sticks or divination sticks, are a traditional method of seeking guidance and insight from Chinese culture. </br></br> In this method of fortune-telling, you will click to shake the container and retrieve a single fortune stick. </br></br> An intepretation would be generated at the end of each round.",c.style.backgroundImage="url(assets/home/side-stick.png)",u.style.marginTop="60%"):("Cartomancy"===o?(m.innerHTML="Cartomancy is a divination practice that uses a deck of playing cards to gain insights into the past, present, and future. </br></br> In this method of fortune-telling, you will randomly draw 3 cards, 1 from each deck, drag-and-drop them into card holder, then proceed to reveal the forune.",c.style.backgroundImage="url(assets/home/side-cart.png)"):(m.innerHTML="The Yin Yang Coin is a traditional tool used for divination and decision-making. </br></br> In this method of fortune-telling, you will toss 3 coins 6 times to generate your Hexagram. </br> </br> Every toss will result in either a broken or a solid line, indicating Yin or Yang. </br> </br> There are 64 hexagrams in total, each corresponds to a specific fortune.",c.style.backgroundImage="url(assets/home/side-coin.png)"),u.style.marginTop="40%"))})}),l.addEventListener("click",e=>{"Cartomancy"===o?window.location.href="./mini-apps/cartomancy/cartomancy.html":"Molybdomancy"===o?window.location.href="./mini-apps/molybdomancy/molybdomancy.html":"Fortune-Stick"===o?window.location.href="./mini-apps/fortune_stick/fortune_stick.html":"Yin-Yang-Coin"===o&&(window.location.href="./mini-apps/yin_yang_coin/yin_yang_coin.html")}),e.addEventListener("click",e=>{n=setMusicState(h,r,!n,y,b)}),s.addEventListener("click",e=>{document.getElementById("info-popup").style.display=t?"none":"flex",t=!t})});
