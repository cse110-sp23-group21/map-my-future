document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelectorAll(".location");document.getElementsByClassName("map")[0].onload=function(e){let a=null,o={x:0,y:0};const n=e.target;let s=null,l,i,r,c,d;function u(e){var t=n.getScreenCTM();return{x:(e.clientX-t.e)/t.a,y:(e.clientY-t.f)/t.d}}function t(e){a=null}n.addEventListener("mousedown",function(e){var t;(a=e.target.parentNode).classList.contains("undraggable")?a=null:(a.classList.contains("confined")&&(l=a.getBBox(),i=-100-l.x,c=2200-l.x-l.width,r=-30-l.y,d=1200-l.y-l.height),o=u(e),0===(e=a.transform.baseVal).length&&((t=n.createSVGTransform()).setTranslate(0,0),a.transform.baseVal.insertItemBefore(t,0)),s=e.getItem(0),o.x-=s.matrix.e,o.y-=s.matrix.f)}),n.addEventListener("mousemove",function(n){if(a){n.preventDefault();n=u(n);let e=n.x-o.x,t=n.y-o.y;a.classList.contains("confined")&&(e<i?e=i:e>c&&(e=c),t<r?t=r:t>d&&(t=d)),s.setTranslate(e,t)}}),n.addEventListener("mouseup",t),n.addEventListener("mouseleave",t)};const n=new Audio("../assets/map-my-future-bgm.ogg");n.play(),n.loop=!0,e.forEach(t=>{t.addEventListener("click",()=>{var e=t.getAttribute("data-location");console.log(e+" is selected.")})});let a=!0,t=!1;var e=document.getElementById("music-button"),o=document.getElementById("info-button");e.addEventListener("click",e=>{var t=document.querySelectorAll("img")[0];a?(t.src="../assets/audio_off.png",n.pause()):(t.src="../assets/audio_on.png",n.play()),a=!a}),o.addEventListener("click",e=>{document.getElementById("info-popup").style.display=t?"none":"flex",t=!t})});
